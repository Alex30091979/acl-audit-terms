# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π OAuth Overview

## üìã –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ OAuth Overview –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:

### ‚ö†Ô∏è App Security (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
1. **Cross-Account Protection** - –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. **Use secure flows** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö OAuth flows

### ‚ö†Ô∏è Data Access and User Consent (–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∏ —Å–æ–≥–ª–∞—Å–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
3. **Incremental authorization** - –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ OAuth –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–æ–≥—É—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

### ‚ö†Ô∏è Developer Identity (–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
4. **Billing account verification** - –Ω–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ Cloud billing account

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: Cross-Account Protection

### –ß—Ç–æ —ç—Ç–æ?
Cross-Account Protection - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Google, –∫–æ—Ç–æ—Ä–∞—è –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –∞—Ç–∞–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ –¥—Ä—É–≥–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

### –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OAuth Client:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/apis/credentials?project=bk-del-access2g-sheets
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à OAuth 2.0 Client ID: `276339510271-6ah52kmcp36gtmp3lpnv50gkpgclct4m`
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (‚úèÔ∏è)

2. **–í–∫–ª—é—á–∏—Ç–µ Cross-Account Protection:**
   - –í —Ä–∞–∑–¥–µ–ª–µ "Security" –Ω–∞–π–¥–∏—Ç–µ "Cross-Account Protection"
   - –í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é "Enable Cross-Account Protection"
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ï—Å–ª–∏ –æ–ø—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è Chrome Extensions.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: Use Secure OAuth Flows

### –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏:** –í–∞—à–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π OAuth flow!

–í `background.js` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
```javascript
chrome.identity.launchWebAuthFlow({ url: authUrl, interactive: true }, ...)
```

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è Chrome Extensions.

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `launchWebAuthFlow`:**
   - ‚úÖ –£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (—Å—Ç—Ä–æ–∫–∞ 432 –≤ background.js)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
   - ‚ùå `chrome.identity.getAuthToken()` (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥)
   - ‚ùå WebViews –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)
   - ‚úÖ WebViews –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤ —á–µ–∫–µ)

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Google Cloud Console:**

   **–í OAuth Client –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∏–ø –∫–ª–∏–µ–Ω—Ç–∞: **"Web application"** (–Ω–µ "Desktop app")
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Authorized redirect URIs —Å–æ–¥–µ—Ä–∂–∏—Ç:
     ```
     https://ffdnnkjifbbiipnjbfjblijneddeilpg.chromiumapp.org/
     ```

### –ï—Å–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è:

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–æ–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –µ—Å–ª–∏:
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `launchWebAuthFlow`
- WebViews –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- Redirect URI –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏—Å—á–µ–∑–Ω—É—Ç—å –ø–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: Incremental Authorization

### –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏:** –í–∞—à –∫–æ–¥ —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é!

–í `background.js` (—Å—Ç—Ä–æ–∫–∞ 382):
```javascript
include_granted_scopes: 'true',
```

–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–í –∫–æ–¥–µ —É–∂–µ –µ—Å—Ç—å `include_granted_scopes: 'true'`:**
   - ‚úÖ –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ buildOAuthUrl()

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Google Cloud Console:**

   **–í OAuth Client –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/apis/credentials?project=bk-del-access2g-sheets
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à OAuth 2.0 Client ID
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (‚úèÔ∏è)
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ä–∞–∑–¥–µ–ª–µ "Authorized redirect URIs" —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URI

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ scopes:**

   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ scopes –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã:
   ```
   openid
   email
   https://www.googleapis.com/auth/drive
   https://www.googleapis.com/auth/spreadsheets
   ```

### –ï—Å–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è:

–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –µ—â—ë –Ω–µ –ø—Ä–æ—à–ª–æ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
- Google –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏—Å—á–µ–∑–Ω—É—Ç—å –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 4: Billing Account Verification

### –ß—Ç–æ —ç—Ç–æ?
–î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Google —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π billing account (–ø–ª–∞—Ç—ë–∂–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç).

### –í–∞–∂–Ω–æ:
- **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** Billing account –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- **–î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:** Billing account –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π OAuth –±–µ—Å–ø–ª–∞—Ç–Ω—ã, –Ω–æ billing account –Ω—É–∂–µ–Ω –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–ª–ª–∏–Ω–≥–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/billing?project=bk-del-access2g-sheets
   - –ò–ª–∏ —á–µ—Ä–µ–∑ –º–µ–Ω—é: Billing ‚Üí Account management

2. **–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –ø—Ä–∏–≤—è–∂–∏—Ç–µ billing account:**
   - –ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å billing account, –≤—ã–±–µ—Ä–∏—Ç–µ –µ–≥–æ
   - –ï—Å–ª–∏ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π:
     - –ù–∞–∂–º–∏—Ç–µ "Create account"
     - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞)
     - –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ –ø—Ä–æ–µ–∫—Ç—É `bk-del-access2g-sheets`

3. **–ü—Ä–∏–≤—è–∂–∏—Ç–µ billing account –∫ –ø—Ä–æ–µ–∫—Ç—É:**
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞: https://console.cloud.google.com/home/dashboard?project=bk-del-access2g-sheets
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Billing"
   - –í—ã–±–µ—Ä–∏—Ç–µ "Link a billing account"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à billing account

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å –∫–∞—Ä—Ç—É):

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Google Cloud Free Tier**, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- $300 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤ –Ω–∞ 90 –¥–Ω–µ–π
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–≤–æ—Ç—ã –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ API

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Production –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è billing account.

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ OAuth Client (5 –º–∏–Ω—É—Ç)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/apis/credentials?project=bk-del-access2g-sheets
2. –ù–∞–π–¥–∏—Ç–µ Client ID: `276339510271-6ah52kmcp36gtmp3lpnv50gkpgclct4m`
3. –ù–∞–∂–º–∏—Ç–µ ‚úèÔ∏è (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - ‚úÖ Type: Web application
   - ‚úÖ Authorized redirect URIs: `https://ffdnnkjifbbiipnjbfjblijneddeilpg.chromiumapp.org/`
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cross-Account Protection (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

1. –í —Ç–æ–º –∂–µ –æ–∫–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è OAuth Client
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Security" –∏–ª–∏ "Advanced settings"
3. –í–∫–ª—é—á–∏—Ç–µ "Cross-Account Protection" (–µ—Å–ª–∏ –æ–ø—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 3: –ü—Ä–∏–≤—è–∑–∫–∞ Billing Account (10 –º–∏–Ω—É—Ç)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/billing?project=bk-del-access2g-sheets
2. –ï—Å–ª–∏ –Ω–µ—Ç billing account:
   - –ù–∞–∂–º–∏—Ç–µ "Create account"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞)
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Google Cloud Free Tier ($300 –Ω–∞ 90 –¥–Ω–µ–π)
3. –ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫ –ø—Ä–æ–µ–∫—Ç—É:
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `bk-del-access2g-sheets`
   - –ù–∞–∂–º–∏—Ç–µ "Link billing account"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à billing account

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç (–∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É OAuth Overview: https://console.cloud.google.com/auth/overview?project=bk-del-access2g-sheets
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ—Å—Ç–∞–ª–∏—Å—å

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: OAuth Consent Screen

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ App name
- ‚úÖ User support email
- ‚úÖ Developer contact information
- ‚úÖ Terms of Service URL: https://alex30091979.github.io/acl-audit-terms/terms-of-service.html
- ‚úÖ Privacy Policy URL: https://alex30091979.github.io/acl-audit-terms/privacy-policy.html

**–°—Å—ã–ª–∫–∞:** https://console.cloud.google.com/apis/credentials/consent?project=bk-del-access2g-sheets

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: APIs –≤–∫–ª—é—á–µ–Ω—ã

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ APIs –≤–∫–ª—é—á–µ–Ω—ã:
- ‚úÖ Google Drive API
- ‚úÖ Google Sheets API

**–°—Å—ã–ª–∫–∞:** https://console.cloud.google.com/apis/dashboard?project=bk-del-access2g-sheets

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: Scopes –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã

–í OAuth Consent Screen ‚Üí Scopes –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã:
- `openid`
- `email`
- `https://www.googleapis.com/auth/drive`
- `https://www.googleapis.com/auth/spreadsheets`

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è:

1. **"Use secure flows"** - –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –¥–æ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `launchWebAuthFlow`
   - –ò—Å—á–µ–∑–Ω–µ—Ç –ø–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

2. **"Incremental authorization"** - –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –¥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ö–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   - –ò—Å—á–µ–∑–Ω–µ—Ç –ø–æ—Å–ª–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

3. **"Cross-Account Protection"** - –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è Chrome Extensions
   - –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –µ—Å–ª–∏ –æ–ø—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
   - –≠—Ç–æ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –Ω–µ –≤—Å–µ —Ç–∏–ø—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –µ—ë –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç

### –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:

- ‚úÖ **Billing account** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- ‚úÖ **Terms of Service** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- ‚úÖ **Privacy Policy** - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- ‚úÖ **OAuth Consent Screen** - –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

### ‚úÖ –î–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å:
- ‚ö†Ô∏è Billing account verification ‚Üí ‚úÖ Billing account verified

### ‚ö†Ô∏è –ú–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è (–Ω–æ—Ä–º–∞–ª—å–Ω–æ):
- ‚ö†Ô∏è Cross-Account Protection (–µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è Chrome Extensions)
- ‚ö†Ô∏è Use secure flows (–∏—Å—á–µ–∑–Ω–µ—Ç –ø–æ—Å–ª–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- ‚ö†Ô∏è Incremental authorization (–∏—Å—á–µ–∑–Ω–µ—Ç –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### ‚úÖ –£–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:
- ‚úÖ Send token securely
- ‚úÖ WebViews usage
- ‚úÖ Updated contact information
- ‚úÖ Project contacts

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **OAuth Overview:** https://console.cloud.google.com/auth/overview?project=bk-del-access2g-sheets
- **OAuth Consent Screen:** https://console.cloud.google.com/apis/credentials/consent?project=bk-del-access2g-sheets
- **Credentials:** https://console.cloud.google.com/apis/credentials?project=bk-del-access2g-sheets
- **Billing:** https://console.cloud.google.com/billing?project=bk-del-access2g-sheets
- **APIs:** https://console.cloud.google.com/apis/dashboard?project=bk-del-access2g-sheets

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω OAuth Client (Type, Redirect URI)
- [ ] –í–∫–ª—é—á—ë–Ω Cross-Account Protection (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
- [ ] –ü—Ä–∏–≤—è–∑–∞–Ω Billing Account
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω OAuth Consent Screen
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤–∫–ª—é—á—ë–Ω–Ω—ã–µ APIs
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã scopes
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ OAuth Overview
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024-12-19  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-12-19

